"use strict";(self.webpackChunkduelink=self.webpackChunkduelink||[]).push([[144],{1653:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>x});const i=JSON.parse('{"id":"catalog/microcomputer/holiday-tree","title":"Holiday Tree","description":"Smart and Festive Holiday Tree","source":"@site/docs/catalog/microcomputer/holiday-tree.mdx","sourceDirName":"catalog/microcomputer","slug":"/catalog/microcomputer/holiday-tree","permalink":"/docs/catalog/microcomputer/holiday-tree","draft":false,"unlisted":false,"editUrl":"https://github.com/ghi-electronics/duelink-website/tree/dev/docs/catalog/microcomputer/holiday-tree.mdx","tags":[],"version":"current","frontMatter":{"pagination_next":null,"pagination_prev":null,"hide_table_of_contents":true},"sidebar":"tutorialSidebar"}');var s=r(4848),l=r(8453),t=r(5537),d=r(9329),o=(r(6540),r(4028));r(9960);const a={pagination_next:null,pagination_prev:null,hide_table_of_contents:!0},c="Holiday Tree",h={},x=[{value:"Ordering Info",id:"ordering-info",level:2}];function j(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"holiday-tree",children:"Holiday Tree"})}),"\n",(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsxs)("table",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(o.A,{children:(0,s.jsx)("img",{alt:"Front",src:"/img/catalog/holidaytree-front.png"})})}),(0,s.jsx)("td",{children:(0,s.jsx)(o.A,{children:(0,s.jsx)("img",{alt:"Back",src:"/img/catalog/holidaytree-back.png"})})})]}),(0,s.jsx)("p",{children:(0,s.jsx)(n.strong,{children:"Smart and Festive Holiday Tree"})})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(t.A,{className:"unique-tabs",groupid:"catalog",queryString:"show",defaultValue:"overview",values:[{label:"Overview",value:"overview"},{label:"Drivers",value:"drivers"},{label:"Samples",value:"samples"},{label:"Projects",value:"projects"}],children:[(0,s.jsxs)(d.A,{value:"overview",children:[(0,s.jsxs)(n.p,{children:["This is arguably the smartest holiday tree in the world! Control the LEDs in ",(0,s.jsx)(n.a,{href:"../../engine/standalone",children:"Standalone"})," mode or connect to a host and control the tree from one of the many available ",(0,s.jsx)(n.a,{href:"../../language/intro",children:"language"})," options."]}),(0,s.jsx)(o.A,{children:(0,s.jsx)("img",{alt:"Back",src:"/img/holiday-trees.png"})}),(0,s.jsx)(n.p,{children:"The 2 boards (A and B) slide into each other, turning this into a 3D-ish module!"}),(0,s.jsxs)("table",{children:[(0,s.jsxs)("td",{width:"50%",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key features"})}),(0,s.jsxs)(n.p,{children:["\u2022 Stand-up Design",(0,s.jsx)("br",{}),"\r\n\u2022 26 Smart LEDs",(0,s.jsx)("br",{}),"\r\n\u2022 Buzzer",(0,s.jsx)("br",{}),"\r\n\u2022 61x27mm Overall Dimension",(0,s.jsx)("br",{})]})]}),(0,s.jsxs)("td",{width:"50%",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Resources"})}),(0,s.jsxs)(n.p,{children:["\ud83d\udcc4",(0,s.jsx)(n.a,{href:"pathname:///sch/gdl-mcholidaytree-b.pdf",children:"Schematics"}),(0,s.jsx)("br",{}),"\r\n\ud83d\udd293D STEP files ",(0,s.jsx)(n.a,{href:"pathname:///3d/gdl-mcholidaytree-a-a.step",children:"Part A"})," - ",(0,s.jsx)(n.a,{href:"pathname:///3d/gdl-mcholidaytree-b-a.step",children:"Part B"}),(0,s.jsx)("br",{}),"\r\n\u25b6YouTube Videos",(0,s.jsx)("br",{}),"\r\n\u2043 ",(0,s.jsx)(n.a,{href:"https://youtu.be/CJs9tn5RxjA",children:"Designing a Festive Circuit"}),(0,s.jsx)("br",{}),"\r\n\u2043 ",(0,s.jsx)(n.a,{href:"https://youtu.be/2INa95NzI_o",children:"Manufacturing a Festive Circuit"}),(0,s.jsx)("br",{}),"\r\n\u2043 ",(0,s.jsx)(n.a,{href:"https://youtu.be/QhicKo7V5Vs",children:"Troubleshooting a Festive Circuit"}),(0,s.jsx)("br",{})]})]})]})]}),(0,s.jsxs)(d.A,{value:"drivers",children:[(0,s.jsxs)(n.admonition,{type:"important",children:[(0,s.jsx)(n.p,{children:"This very early design has these issues as the core has changed for better support:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["When using DUELink firmware:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["STAT LED does not work. The ",(0,s.jsx)(n.code,{children:"statled()"})," function will not work."]}),"\n",(0,s.jsx)(n.li,{children:"There is no Uplink or Downlink sockets. However, USB Uplink works."}),"\n",(0,s.jsxs)(n.li,{children:["Buzzer is connected to pin P25, which has no PWM support in official firmware, ",(0,s.jsx)(n.code,{children:"Beep()"})," works however."]}),"\n",(0,s.jsx)(n.li,{children:"The button is not available! It uses a reserved pin."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["When loading your own firmware:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The core design has changed a lot."}),"\n",(0,s.jsx)(n.li,{children:"Uplink and Downlink sockets are not available. USB Uplink works."}),"\n"]}),"\n"]}),"\n"]})]}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Function"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PlayLED(enable)"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"PlayLED(1)"})," will make the LED constantly blink, default. Use ",(0,s.jsx)(n.code,{children:"PlayLED(0)"})," to disable playback and manually control the LEDs."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SetLED(index, color, brightness)"})}),(0,s.jsx)(n.td,{children:"Set a specific LED to a color, 0 is off. Index start from 1. Brightness max is 31"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SetAll(color)"})}),(0,s.jsx)(n.td,{children:"Set all LEDs to a specific color, use 0 to turn off."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ShowLed()"})}),(0,s.jsx)(n.td,{children:"Flush"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"RndLed()"})}),(0,s.jsx)(n.td,{children:"Show random color on random leds"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Beep(duration)"})}),(0,s.jsx)(n.td,{children:"Play Beep with duration in milliseconds. This is blocking function."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Init()"})}),(0,s.jsx)(n.td,{children:"Initialize driver"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"DVer()"})}),(0,s.jsx)(n.td,{children:"This driver version."})]})]})]}),(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"The Code!"}),(0,s.jsxs)(n.p,{children:["Modules ship with this script preloaded. Use ",(0,s.jsx)(n.a,{href:"../../console",children:"Console"})," to reload or modify the drivers. Additionally, some languages, such as ",(0,s.jsx)(n.a,{href:"../../language/python",children:"Python"}),", include ",(0,s.jsx)(n.code,{children:"DUELink.Engine.Record()"})," for recording scripts directly from the host."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'_n = 26 # num of leds\r\n_a = 4+_n*4+4 # num of led x 4, plus first and last 4 bytes\r\n_i = 0\r\n\r\nDim b1[_a]\r\n\r\nfn SetLed(i,c,l)\r\n    i = i - 1\r\n\r\n    if (i < 0)\r\n        return\r\n    end\r\n\r\n    b1[i*4+4+0] = 0xE0 | l\r\n    b1[i*4+4+1] = ((c >> 0) & 0xFF) # blue\r\n    b1[i*4+4+2] = ((c >> 8) & 0xFF) # green\r\n    b1[i*4+4+3] = ((c >> 16) & 0xFF) # red\r\nfend\r\n\r\nfn SetAll(c)\r\n    for i=1 to _n\r\n        SetLED(i, c, 10)\r\n    next\r\nfend\r\n\r\nfn ShowLed()\r\n    spiwrs(b1,0)\r\nfend\r\n\r\nfn RndLed()\r\n    for i=1 to _n\r\n        r=Rnd(2)*50\r\n        g=Rnd(2)*50\r\n        b=Rnd(2)*50\r\n        SetLED(i, (r << 16) | (g << 8) | (b << 0), 10)\r\n    next\r\n\r\n    ShowLed()\r\nfend\r\n\r\nfn PlayLed(e)\r\n    if (e = 1)\r\n        SStart("RndLed", 500, 1000)\r\n    else\r\n        SAbort("RndLed")\r\n    end\r\nfend\r\n\r\nfn PlayBeep(f,d)\r\nBeep(25,f,d)\r\nfend\r\n\r\nfn Init()\r\n    spicfg(0,8000)\r\n\r\n    # first 4 bytes need to be 0\r\n    for _i = 0 to 3\r\n        b1[_i] = 0\r\n    next\r\n\r\n    # All led off\r\n    for _i = 1 to _n\r\n        SetLed(_i, 0, 0)\r\n    next\r\n\r\n    # last 4 bytes need to be 255\r\n    for _i = _a-4 to _a-1\r\n        b1[_i] = 0xFF\r\n\r\n    next\r\n\r\n     ShowLed()\r\nfend\r\n\r\nfn DVer()\r\n    return 0.1\r\nfend\r\n\r\nInit()\r\n\r\n\r\n##### User Code Starts Here #####\r\nPlayBeep(700,200)\r\nAsIo(1) # Enable to accept commands while running\r\nPlayLed(1) # Activate play LED scheduler\r\nwhile 1\r\n# keep the interpreter running. The scheduler will blink the LEDs\r\nwend\n'})})]})]}),(0,s.jsx)(d.A,{value:"samples",children:(0,s.jsxs)(t.A,{values:[{label:"Script",value:"script"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],children:[(0,s.jsxs)(d.A,{value:"script",children:[(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.a,{href:"../../console",children:"Console"})," to modify the default driver by adding this sample."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"# Append this code at the bottom of the script, right after the driver.\r\n# You MUST keep the driver code!!\r\n_x = 0\r\nPlayLED(0) # Take over\r\nSetAll(0) # All off\r\n\r\nwhile 1\r\n\\_r = Rnd(50)\r\n\\_g = Rnd(50)\r\n\\_b = Rnd(50)\r\n\\_l = Rnd(31)\r\n\r\nSetLED(\\_x, \\_r<<16|\\_g<<8|\\_b, \\_l)\r\n\r\n\\_x=\\_x+1\r\n\r\nif \\_x > 26\r\nSetAll(0)\r\n\\_x=1\r\nPlayBeep(700,100) # Play beep in 100ms\r\nend\r\n\r\nShowLed()\r\nwend\r\n\n"})})]}),(0,s.jsx)(d.A,{value:"py",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'import random\r\nduelink.Engine.Run("PlayLED(0)")\r\nduelink.Engine.Run("SetAll(0)")\r\nduelink.Engine.Run("PlayBeep(100)")\r\nx = 1\r\nwhile True:\r\n   r = int(random.uniform(0, 50))\r\n   g = int(random.uniform(0, 50))\r\n   b = int(random.uniform(0, 50))\r\n   l = int(random.uniform(0, 30))\r\n   c = (r << 16) | (g << 8) | b\r\n\r\n   duelink.Engine.Run(f\'SetLED({x}, {c}, {l})\')\r\n\r\n   x = x+1\r\n   if x > 26:\r\n       x = 1\r\n   duelink.Engine.Run("ShowLed()")\n'})})}),(0,s.jsx)(d.A,{value:"js",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"//code\n"})})})]})}),(0,s.jsx)(d.A,{value:"projects",children:(0,s.jsx)(n.p,{children:"Coming Soon!"})})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)("p",{style:{backgroundColor:"lightcyan",color:"black",padding:"0px 0px 0px 30px"},children:(0,s.jsx)(n.h2,{id:"ordering-info",children:"Ordering Info"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Part Number"}),(0,s.jsx)(n.th,{children:"Price"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Holiday Tree"}),(0,s.jsx)(n.td,{children:"GDL-MCHOLIDAYTREE-B"}),(0,s.jsx)(n.td,{children:"$00.00"})]})})]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(j,{...e})}):j(e)}}}]);