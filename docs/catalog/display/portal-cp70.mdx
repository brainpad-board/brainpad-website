---
pagination_next: null
pagination_prev: null
hide_table_of_contents: true
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import React from "react";
import Zoom from "react-medium-image-zoom";
import "react-medium-image-zoom/dist/styles.css";

# Portal CP70

<div style={{ textAlign: "center" }}>

<Zoom>
<img alt="Main" width="75%" src="/img/catalog/portal-cp70-front.png" />
</Zoom>

  <table>
    <td>
      <Zoom>
        <img alt="Back" src="/img/catalog/portal-cp70-back.png" />
      </Zoom>
    </td>
    <td>
      <Zoom>
        <img alt="Size" src="/img/catalog/portal-cp70-pencil.png" />
      </Zoom>
    </td>
     <td>
      <Zoom>
        <img alt="Front" src="/img/catalog/portal-cp70-front-45.png" />
      </Zoom>
    </td>
    <td>
      <Zoom>
        <img alt="Back" src="/img/catalog/portal-cp70-back-45.png" />
      </Zoom>
    </td>
  </table>
    <p>**7" 800x400 Color Display with Capacitive Touch Screen**</p>
</div>

---

<Tabs className="unique-tabs" groupid = "catalog" queryString="show" defaultValue="overview"
  values={[
    {label: 'Overview', value: 'overview'},
    {label: 'Drivers', value: 'drivers'},
    {label: 'Samples', value: 'samples'},
    {label: 'Projects', value: 'projects'},
  ]}>

<TabItem value="overview">
Portal CP70 7" 800x400 capacitive touch display , supporting [Graphics](../../engine/graphics) in buffered and in direct mode.

<table><td width='50%'>
**Key features**

â€¢ Full Color 800x400 Pixels<br/>
â€¢ Capacitive Multi-Touch<br/>
â€¢ 167x122mm<br/>

</td><td width='50%'>
**Resources**

ðŸ“„[Schematics](pathname:///sch/gdl-dportalcp70-a.pdf)<br/>
ðŸ”©[3D STEP file](pathname:///3d/gdl-dportalcp70-a.step)<br/>

</td></table>

</TabItem>

<TabItem value="drivers">

| Function           | Description                                                                                                                                                                                     |
| ------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `Init()`           | Initialize the display. Automatically called on power up.                                                                                               |
| `Mode(direct)`     | Set the graphics mode to 1-direct, 0-buffered (default).                                                                                               |
| `GetW()`           | Get display width: 106 in buffered, 320 in direct.                                                                                                                                              |
| `GetH()`           | Get display height: 80 in buffered, 240 in direct.                                                                                                                                              |
| `IsColor()`        | Returns 1.                                                                                                                                                                                      |
| `GetX()`           | Return touch x.                                                                                                                                                                            |
| `GetY()`           | Return touch y.                                                                                                                                                                      |
| `DVer()`           | This driver version.                                                                                                                                                                            |

By default, the display is initialized in buffered mode.

:::tip
See [Graphics](../../engine/graphics) for available drawing functions, such as `Text()` and `Circle()`.
:::

<details>
  <summary>The Code!</summary>

Modules ship with this script preloaded. Use [Console](../../console) to reload or modify the drivers. Additionally, some languages, such as [Python](../../language/python), include `DUELink.Engine.Record()` for recording scripts directly from the host.

```py
_s = 5
_r = 6
dim b1[2]
_m = 1

_x = 0
_y = 0

fn Init()
Mode(0)# buffered
fend

fn Mode(m)
dwrite(4,1)
dwrite(7,1)
spicfg(0, 24000)
_m=m

If m = 0 # buffered
	gfxcfg(2, {_s,_r},106,80, 3)

else # direct
	gfxcfg(2,{_s,_r},320,240, 0)
end
	Cmd(0xc8, [0xFF])
	Cmd(0x93, [0xFF])
	Cmd(0x36, [0xc8])
	Cmd(0x3a, [0x55])
	Cmd(0xc0, [0x10,0x10])
	Cmd(0xc1, [0x36])
	Cmd(0xc5, [0xc3])
	Cmd(0xE0, [0x00,0x05,0x08,0x02,0x1a,0x0c,0x42,0x7a,0x54,0x08,0x0d,0x0c,0x23,0x25,0x0f])
	Cmd(0xE1, [0x00,0x29,0x2f,0x03,0x0f,0x05,0x42,0x55,0x53,0x06,0x0f,0x0c,0x38,0x3a,0x0f])
	Cmd(0x11,[])
	Wait(120)
	Cmd(0x36, [0xc8])
	Cmd(0x2a, [0x00,0x00,0x01,0x3d])
	Cmd(0xE1, [0x00,0x00,0x00,0xef])
	Cmd(0x29,[])

	i2ccfg(400)
	IStart("TouchIrq", 2, 0, 1)

fend
fn Cmd(c, b1)
    ##SendCmd(c)
    dwrite(_s, 0)#select
    dwrite(_r, 0)#cmd
    SpiWr(c)
    dwrite(_r, 1)#data
    for i in range(0,Len(b1))
        SpiWr(b1[i])
    next
    dwrite(_s, 1)#deselect
fend

fn IsColor()
return 1
fend


fn TouchIrq() 
    dim b1[1] = [0]
    dim b2[32]
    
    i2cwr(0x38, b1, 0)
    
    i2cwr(0x38, 0, b2)
    
    for i = 0 to 1
        d = i * 6 + 3
        f = (b2[0 + d] & 0xC0) >> 6
        x = ((b2[0 + d] & 0x0F) << 8) | b2[1 + d]
        y = ((b2[2 + d] & 0x0F) << 8) | b2[3 + d]
        
        if (f <= 2)
            _x = x
            _y = y
        
        end
    next 
fend

fn TouchX()
    return _x
fend

fn TouchY()
    return _y
fend

fn GetW()
if _m = 0
return 106
else
return 320
end
fend

fn GetH()
if _m = 0
return 80
else
return 240
end
fend

fn DVer()
return 0.1
fend

Init()
Show()

##### User Code Starts Here #####
```

</details>
</TabItem>

<TabItem value="samples">

<Tabs
  values={[
    {label: 'Script', value: 'script'},
    {label: 'Python', value: 'py'},
    {label: 'JavaScript', value: 'js'},

]}>

<TabItem value="script">
 Use [Console](../../console) to modify the default driver by adding this sample.

```py
# Append this code at the bottom of the script, right after the driver.
# You MUST keep the driver code!!
_x = 50
_d = 10
_w = GetW()
while 1
circle(0xFF0000,_x,GetH()/2,10)
Show()
_x=_x+_d
if (_x > _w || _x <0)
   _d = _d * -1
    Clear(0)
end
wait(10)
wend
```
                            
</TabItem>


<TabItem value="py">
```py
from DUELink.DUELinkController import DUELinkController
import time
availablePort = DUELinkController.GetConnectionPort()
duelink = DUELinkController(availablePort)
x = 50
d = 10
width = int(float(duelink.Engine.Run("getw()")))
height = int(float(duelink.Engine.Run("geth()")))
while True:
    duelink.Graphics.Circle(1, x, height//2, 10)
    duelink.Graphics.Show()
    x = x + d
    if (x > width or x < 0):
        d = d * -1
        duelink.Graphics.Clear(0)
    time.sleep(0.1)
```
</TabItem>

<TabItem value="js">

```js
//code
```

</TabItem>

</Tabs>

</TabItem>

<TabItem value="projects">Coming soon!</TabItem>

</Tabs>

---

<p
  style={{
    backgroundColor: "lightcyan",
    color: "black",
    padding: "0px 0px 0px 30px",
  }}
>
  ## Ordering Info
</p>

| Description                                          | Part Number    | Price  |
| ---------------------------------------------------- | -------------- | ------ |
| Portal CP70 | GDL-DPORTAL-CP70-A | $00.00 |
