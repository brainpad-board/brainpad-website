# Arduino

---

![Arduino logo](pathname:///img/arduino-logo.png)

This is an interesting option because it allows a DUELink to be used in 2 very different ways. You can program any of the modules using the Arduino IDE/software. Or, you can use an Arduino board to control a chain of [Daisylinked](../engine/daisylink) DUELink modules. We will cover them individually.

## Modules Using Arduino IDE

The chip used on DUELink modules is STM32C071, which is fully supported by the Arduino IDE through the ST extension.

While you can do this on any module, we recommend using [DueDuino](../catalog/microcomputer/dueduino) for a first-class experience with Arduino and DUELink.

![DueDuino](pathname:///img/dueduino.png)

Start the Arduino IDE, and install the `STM32 MCU based boards` extension under Board Manager. More details are found [here](https://github.com/stm32duino/Arduino_Core_STM32).

![Select STM32C0](pathname:///img/arduino-ide-stm.png)

Under `Tools/Board/STM32 MCU based boards`: Select `Nucleo-64`.

![Select DFU file upload](pathname:///img/arduino-ide-nucleo64.png)

Under `Tools/Board part number`: Select `Nucleo C071RB`.

![Select DFU file upload](pathname:///img/arduino-ide-boardpart.png)

And finally under `Tools/Upload method:` Select `STM32CubeProgrammer(DFU)` for file upload.

![Select DFU file upload](pathname:///img/arduino-ide-upload.png)

Add this code to blink the status LED, which is connected to pin PB8.

```cpp
void setup() {
  // initialize digital pin as an output.
  pinMode(PB8, OUTPUT);
}

void loop() {
  digitalWrite(PB8, HIGH);  // turn the LED on (HIGH is the voltage level)
  delay(1000);                      // wait for a second
  digitalWrite(PB8, LOW);   // turn the LED off by making the voltage LOW
  delay(1000);                      // wait for a second
}
```

Put the board/chip in loader mode (DFU) by holding LDR or "A" buttons down while resetting the board.

![Setting Boot mode mode](pathname:///img/ldr-a-buttons.png)

If no button is found, there are special 2-hole-pads with BOOT0/LDR and 3.3V found on the module. Use a paper clip (or a wire) to short the two pads.
![Setting Boot mode](pathname:///img/boot-mode.png)

Reset the boards, and now it is in DFU mode. You can verify by checking the `Device Manager`.

![Verify DFU mode](pathname:///img/device-manager-dfu.png)

You can now send the program from the Arduino IDE

![Send Program to Device](pathname:///img/arduino-ide-send.png)


:::info
If you'd like to go back to using DUELink software you'll need to reload its firmware. Details are found on the [Loader](../loader) page.
:::

---

## Arduino Daisylink

Any board running Arduino software can utilize DUELink modules. An example can be [Arduino Uno R4 WiFi](https://store-usa.arduino.cc/products/uno-r4-wifi), which already include a JST connector.

![Setting DFU mode](pathname:///img/arduino-uno-r4-wifi.png)

The [Sparkfun Redboard Qwiic](https://www.sparkfun.com/sparkfun-redboard-qwiic.html) is another option.

![Sparkfun Redboard Qwiic](pathname:///img/sparkfun-redboard-qwiic.png)

We recommend using our [DueDuino](../catalog/microcomputer/dueduino) for a hybrid first-class experience with Arduino and DUELink.

![DueDuino](pathname:///img/dueduino.png)

You are now ready to access a chain of [Daisylinked](../engine/daisylink) modules that are connected to the JST connector.

:::tip
Boards without a JST connector can use the [Breakout](../catalog/accessory/breakout) module to wire the connections.
:::

Here is the [Arduino Uno R4 WiFi](https://store-usa.arduino.cc/products/uno-r4-wifi) connected to a 2.3" color display with capacitive touch screen.

![Arduino Connected to DUELink display](pathname:///img/arduino-duelink-display.png)

You can do the same using [Sparkfun Redboard Qwiic](https://www.sparkfun.com/sparkfun-redboard-qwiic.html).

![Redboard Connected to DUELink display](pathname:///img/redboard-duelink-display.png)

Here is an example to blink the STAT LED.

```cpp
#include <DUELink.h>
#include <DUELinkLib.h>
DUELink due;
TwoWireTransport transport(Wire1);

void setup() {
  // get ready, over I2C
  Wire1.begin();
  due.begin(transport);

  //blink LED
  due.statled(200,200,50);
}
```
