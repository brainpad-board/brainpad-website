import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Stream

---

DUELink [Scripting](scripting) language is built to be ASCII human-friendly. This works great; however, there are instances where speed or raw binary data is required. For example, when writing or reading a buffer. Through the stream feature, provided libraries such as [Python](../language/python), allows the user to have direct access to the scripts internals.

## Usage

This is an example to send a byte array buffer to the device.

<Tabs groupid="language" queryString="show"
  values={[
    {label: 'Python', value: 'py'},
    {label: 'JavaScript', value: 'js'},
    {label: '.NET', value: 'dotnet'},
    {label: 'Arduino', value: 'arduino'},

]}>

<TabItem value="py">
Start by setting up for [Python](../language/python) or [MicroPython](../language/micropython).

```py
# add example here
duelink.Stream.WriteBytes("b1", byte_array, 64) # write first 64 byte elements from byte_array to b1
duelink.Stream.WriteFloats("a1", float_array, 64) # write first 64 float elements from float_array to a1
```
</TabItem>

<TabItem value="js">
Start by setting up for [JavaScript](../language/javascript).

```js
// add example here
duelink.Stream.WriteBytes("b1", byte_array, 64) // write first 64 byte elements from byte_array to b1
duelink.Stream.WriteFloats("a1", float_array, 64) // write first 64 float elements from float_array to a1
```
</TabItem>

<TabItem value="dotnet">
Start by setting up for [.NET](../language/dotnet).

```csharp
// add example here
duelink.Stream.WriteBytes("b1", byte_array, 64) // write first 64 byte elements from byte_array to b1
duelink.Stream.WriteFloats("a1", float_array, 64) // write first 64 float elements from float_array to a1
```

</TabItem>

<TabItem value="arduino">
Start by setting up for [Arduino](../system/arduino) or [C++](../language/cpp).
```cpp
// add example here
duelink.Stream.WriteBytes("b1", byte_array, 64) // write first 64 byte elements from byte_array to b1
duelink.Stream.WriteFloats("a1", float_array, 64) // write first 64 float elements from float_array to a1
```

</TabItem>
</Tabs>


Similarly, you can also read a buffer from the device. In this example, we are using a float arrays instead of a byte array.


<Tabs groupid="language" queryString="show"
  values={[
    {label: 'Python', value: 'py'},
    {label: 'JavaScript', value: 'js'},
    {label: '.NET', value: 'dotnet'},
    {label: 'Arduino', value: 'arduino'},

]}>

<TabItem value="py">
Start by setting up for [Python](../language/python) or [MicroPython](../language/micropython).

```py
# add example here
duelink.Stream.ReadBytes("b1", byte_array, 64) # read 64 byte elements from b1 to byte_array
duelink.Stream.ReadFloats("a1", float_array, 64) # read 64 byte elements from a1 to float_array
```
</TabItem>

<TabItem value="js">
Start by setting up for [JavaScript](../language/javascript).

```js
// add example here
duelink.Stream.ReadBytes("b1", byte_array, 64) // read 64 byte elements from b1 to byte_array
duelink.Stream.ReadFloats("a1", float_array, 64) // read 64 byte elements from a1 to float_array
```
</TabItem>

<TabItem value="dotnet">
Start by setting up for [.NET](../language/dotnet).

```csharp
// add example here
duelink.Stream.ReadBytes("b1", byte_array, 64) // read 64 byte elements from b1 to byte_array
duelink.Stream.ReadFloats("a1", float_array, 64) // read 64 byte elements from a1 to float_array
```

</TabItem>

<TabItem value="arduino">
Start by setting up for [Arduino](../system/arduino) or [C++](../language/cpp).
```cpp
// add example here
duelink.Stream.ReadBytes("b1", byte_array, 64) // read 64 byte elements from b1 to byte_array
duelink.Stream.ReadFloats("a1", float_array, 64) // read 64 byte elements from a1 to float_array
```

</TabItem>
</Tabs>

:::tip
Stream can't be used directly by typing in ASCII commands, like when using the [Console](../console).
:::

## Mechanism

Understanding and utilizing Stream mechanism is only needed by advanced users. See the source code of one of the provided libraries for reference.

A Stream command initiates the request, such as `DisplayStream()`. Once this command is received and accepted by the device, the `&` symbol will be returned indicating readiness. The host can now send the entire data, exactly to the required byte count.
